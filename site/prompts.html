<!DOCTYPE html>
<html lang="en-GB">

<head>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-H4HSCLEH37"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-H4HSCLEH37');
  </script>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Prompts - SCRUM MCP System Prompts for Claude Code & Cursor</title>
  <meta name="description"
    content="Copy-paste system prompt instructions to enforce SCRUM MCP usage in Claude Code, Cursor, and other AI coding assistants." />
  <meta property="og:title" content="SCRUM MCP - System Prompts" />
  <meta property="og:description"
    content="Ready-to-use system prompts that enforce multi-agent coordination with SCRUM MCP." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://scrum.tylerbuilds.com/prompts" />
  <meta name="theme-color" content="#f6f1ea" />
  <script>
    document.documentElement.classList.add('js');
  </script>
  <link rel="canonical" href="https://scrum.tylerbuilds.com/prompts" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;500&family=IBM+Plex+Sans:wght@300;400;500;600&family=Space+Grotesk:wght@400;500;600;700&display=swap"
    rel="stylesheet" />
  <link rel="stylesheet" href="styles.css" />
  <style>
    .prompt-section {
      margin-bottom: 48px;
    }

    .prompt-section h3 {
      font-family: "Space Grotesk", sans-serif;
      font-size: 24px;
      margin: 0 0 12px;
    }

    .prompt-section p {
      color: var(--ink-soft);
      margin: 0 0 20px;
    }

    .prompt-block {
      position: relative;
      border-radius: 20px;
      background: #14161b;
      color: #f7f3ea;
      padding: 24px;
      box-shadow: 0 24px 40px rgba(20, 22, 27, 0.25);
      overflow: hidden;
    }

    .prompt-block pre {
      margin: 0;
      font-family: "IBM Plex Mono", monospace;
      font-size: 13px;
      line-height: 1.6;
      white-space: pre-wrap;
      word-wrap: break-word;
      max-height: 500px;
      overflow-y: auto;
    }

    .prompt-block pre::-webkit-scrollbar {
      width: 8px;
    }

    .prompt-block pre::-webkit-scrollbar-track {
      background: rgba(255, 255, 255, 0.1);
      border-radius: 4px;
    }

    .prompt-block pre::-webkit-scrollbar-thumb {
      background: rgba(255, 255, 255, 0.25);
      border-radius: 4px;
    }

    .prompt-label {
      font-family: "Space Grotesk", sans-serif;
      text-transform: uppercase;
      letter-spacing: 0.2em;
      font-size: 12px;
      color: rgba(247, 243, 234, 0.65);
      margin-bottom: 16px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .copy-btn {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 8px 14px;
      border-radius: 999px;
      font-size: 11px;
      font-weight: 600;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      background: rgba(255, 255, 255, 0.12);
      color: #f7f3ea;
      border: 1px solid rgba(255, 255, 255, 0.15);
      cursor: pointer;
      transition: background 0.2s ease, transform 0.2s ease;
    }

    .copy-btn:hover {
      background: rgba(255, 255, 255, 0.2);
      transform: translateY(-1px);
    }

    .copy-btn.copied {
      background: var(--accent-2);
      color: #fff;
    }

    .file-badge {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 4px 10px;
      border-radius: 6px;
      font-family: "IBM Plex Mono", monospace;
      font-size: 12px;
      background: rgba(10, 161, 167, 0.15);
      color: var(--accent-2);
      margin-bottom: 8px;
    }

    .prompt-tabs {
      display: flex;
      gap: 8px;
      margin-bottom: 24px;
      flex-wrap: wrap;
    }

    .prompt-tab {
      padding: 12px 20px;
      border-radius: 999px;
      font-weight: 600;
      font-size: 13px;
      letter-spacing: 0.04em;
      text-transform: uppercase;
      border: 1px solid rgba(20, 22, 27, 0.15);
      background: rgba(255, 255, 255, 0.7);
      cursor: pointer;
      transition: transform 0.2s ease, box-shadow 0.2s ease, background 0.2s ease;
    }

    .prompt-tab:hover {
      transform: translateY(-2px);
      box-shadow: 0 12px 24px rgba(20, 22, 27, 0.1);
    }

    .prompt-tab.active {
      background: linear-gradient(135deg, var(--accent), var(--accent-3));
      color: #111114;
      border-color: transparent;
    }

    .prompt-content {
      display: none;
    }

    .prompt-content.active {
      display: block;
    }

    .usage-note {
      padding: 18px;
      border-radius: 16px;
      background: linear-gradient(135deg, rgba(10, 161, 167, 0.1), rgba(242, 193, 78, 0.12));
      border: 1px solid rgba(20, 22, 27, 0.08);
      margin-bottom: 32px;
    }

    .usage-note h4 {
      font-family: "Space Grotesk", sans-serif;
      margin: 0 0 8px;
      font-size: 16px;
    }

    .usage-note p {
      margin: 0;
      font-size: 14px;
      color: var(--ink-soft);
    }

    .usage-note code {
      background: rgba(20, 22, 27, 0.08);
      padding: 2px 6px;
      border-radius: 4px;
    }
  </style>
</head>

<body>
  <div class="ambient" aria-hidden="true"></div>
  <header class="site-header">
    <div class="container nav-wrap">
      <a href="/" class="brand">
        <span class="brand-mark">SCRUM</span>
        <span class="brand-sub">MCP</span>
      </a>
      <button class="nav-toggle" type="button" aria-expanded="false" aria-controls="primary-nav"
        aria-label="Open menu">
        <span class="nav-toggle-line"></span>
        <span class="nav-toggle-line"></span>
        <span class="nav-toggle-line"></span>
      </button>
      <div class="nav-panel" id="primary-nav">
        <nav class="nav" aria-label="Primary">
          <a href="/#start">Start</a>
          <a href="/#features">Features</a>
          <a href="/what-is-mcp.html">What is MCP?</a>
          <a href="/#workflow">Workflow</a>
          <a href="/#hooks">Git Hooks</a>
          <a href="/prompts.html" class="active">Prompts</a>
          <a href="/case-study.html">Case Study</a>
          <a href="https://github.com/tylerbuilds/scrum-mcp" target="_blank" rel="noreferrer">GitHub</a>
        </nav>
        <div class="nav-actions">
          <a class="btn btn-ghost" href="https://github.com/tylerbuilds/scrum-mcp" target="_blank" rel="noreferrer">
            View repo
          </a>
          <a class="btn btn-primary" href="/#start">Get started</a>
        </div>
      </div>
    </div>
  </header>
  <div class="nav-backdrop" aria-hidden="true"></div>
  <main>
    <section class="hero" style="padding-bottom: 48px;">
      <div class="container">
        <div class="hero-copy" data-reveal style="max-width: 720px;">
          <div class="pill">System Prompts</div>
          <h1>Add these prompts to enforce SCRUM MCP usage.</h1>
          <p>
            Copy the appropriate system prompt into your AI coding tool's configuration.
            These prompts instruct agents to use SCRUM MCP for all file operations,
            ensuring proper coordination in multi-agent environments.
          </p>
        </div>
      </div>
    </section>

    <section class="section" style="padding-top: 0;">
      <div class="container">
        <!-- Auto-Setup Section -->
        <div class="prompt-section" data-reveal style="margin-bottom: 48px;">
          <span class="file-badge" style="background: linear-gradient(135deg, rgba(242, 193, 78, 0.2), rgba(10, 161, 167, 0.2)); color: var(--accent);">ONE-SHOT SETUP</span>
          <h3>Auto-Setup with Claude Code</h3>
          <p>
            Copy this prompt and give it to Claude Code. It will automatically install SCRUM MCP,
            configure it, test it, scan for your installed IDEs/CLIs, and add the prompts to each one
            without destroying your existing configurations.
          </p>
          <div class="prompt-block">
            <div class="prompt-label">
              <span>Master setup prompt</span>
              <button class="copy-btn" data-copy="setup-prompt">Copy</button>
            </div>
            <pre id="setup-prompt">Install and configure SCRUM MCP for multi-agent coordination across all my AI coding tools.

## Prerequisites Check

First verify these are installed:
- Node.js 20+ (run: node --version)
- npm (run: npm --version)
- git (run: git --version)

If any are missing, stop and tell me what to install.

## Step 1: Install SCRUM MCP

git clone https://github.com/tylerbuilds/scrum-mcp.git ~/.scrum-mcp
cd ~/.scrum-mcp
npm install
npm run build

If ~/.scrum-mcp already exists, do: cd ~/.scrum-mcp && git pull && npm install && npm run build

Verify build succeeded (dist/mcp.js should exist).

## Step 2: Configure MCP Server

Find my Claude Code MCP config. Check these locations in order:
1. ~/.claude.json (newer versions)
2. ~/.config/claude-code/settings.json
3. Look for existing mcpServers config

**IMPORTANT**: Use ABSOLUTE paths, not ~. Get my home directory first: echo $HOME

Add this to the mcpServers object (merge, don't replace):

"scrum": {
  "command": "node",
  "args": ["/ABSOLUTE/PATH/TO/.scrum-mcp/dist/mcp.js"],
  "env": {
    "SCRUM_DB_PATH": "/ABSOLUTE/PATH/TO/.scrum/scrum.sqlite"
  }
}

Replace /ABSOLUTE/PATH/TO with my actual home directory (e.g., /home/username or /Users/username).

Create ~/.scrum directory if it doesn't exist: mkdir -p ~/.scrum

## Step 3: Restart Required

Tell me: "MCP config updated. Please restart Claude Code for the SCRUM MCP server to load, then say 'continue' to proceed."

WAIT for my response before continuing.

## Step 4: Test Installation

After I confirm restart, call scrum_status() to verify it works.

If it fails:
- Check the MCP config paths are absolute (no ~)
- Check dist/mcp.js exists
- Check node is in PATH
- Report the specific error

## Step 5: Scan for Installed IDEs/CLIs

Check if these config FILES exist (not just directories):

| Tool | Global Config | Check Command |
|------|---------------|---------------|
| Claude Code | ~/.claude/CLAUDE.md | ls ~/.claude/CLAUDE.md |
| Cursor | ~/.cursor/rules/rules.md | ls ~/.cursor/rules/rules.md |
| Windsurf | ~/.codeium/windsurf/memories/global_rules.md | ls that path |
| Continue | ~/.continue/config.json | ls ~/.continue/config.json |
| Aider | ~/.aider.conf.yml | ls ~/.aider.conf.yml |

For Cursor/Windsurf, also note they use per-project .cursorrules/.windsurfrules files.

Report which configs exist. Skip tools whose configs don't exist (don't create new ones).

## Step 6: Add SCRUM Prompts (PRESERVE EXISTING)

For each EXISTING config file found:

1. **Back it up first**: cp {file} {file}.backup
2. Read the current contents
3. Check if "SCRUM MCP" section already exists - if so, skip (already configured)
4. Append the SCRUM section at the END of the file

### For Markdown files (CLAUDE.md, rules.md, etc.):

Append this exact text:

---

## SCRUM MCP - Multi-Agent Coordination (v0.5.2)

Use SCRUM MCP for any code changes. Multiple agents may work simultaneously.

Session Startup: scrum_context()
Start Work: scrum_start_work(taskId, agentId, files, acceptanceCriteria)
Log Changes: scrum_changelog_log(agentId, filePath, changeType, summary)
Finish Work: scrum_finish_work(taskId, agentId, command, output)

Agent Naming: {tool}-{role}-{shortId} (e.g., claude-worker-api-a1b2)

Orchestration:
- scrum_orchestrate_start(taskId, orchestratorId, goal, workers)
- scrum_worker_complete(sprintId, agentId, status, result)
- scrum_orchestrate_status(sprintId)

Rules: NEVER use git commit --no-verify. ALWAYS run scrum_compliance_check before commits.

### For Continue (config.json):

Find or create the "systemMessage" field and append the SCRUM text to its value.

### For Aider (.aider.conf.yml):

Add under a system-prompt key if it exists, or create one.

## Step 7: Report Results

Report:
1. Prerequisites: all met / what's missing
2. SCRUM MCP: installed at {path} / build status
3. MCP Config: updated at {path}
4. Tools found: list each with config path
5. Configs updated: list each (or "skipped - already has SCRUM" / "skipped - no config file")
6. Backups created: list .backup files
7. Final test: scrum_status() result

If anything failed, explain what went wrong and how to fix it manually.</pre>
          </div>
        </div>

        <div class="usage-note" data-reveal>
          <h4>Manual setup - Where to add these prompts</h4>
          <p>
            <strong>Claude Code:</strong> Add to <code>CLAUDE.md</code> in your project root or <code>~/.claude/CLAUDE.md</code> globally.<br>
            <strong>Cursor:</strong> Add to <code>.cursorrules</code> in your project root.<br>
            <strong>Continue:</strong> Add to your <code>config.json</code> system prompt field.
          </p>
        </div>

        <div class="prompt-tabs" data-reveal>
          <button class="prompt-tab active" data-tab="claude">Claude Code</button>
          <button class="prompt-tab" data-tab="cursor">Cursor</button>
          <button class="prompt-tab" data-tab="mcp">MCP Config</button>
        </div>

        <div id="claude" class="prompt-content active" data-reveal>
          <div class="prompt-section">
            <span class="file-badge">CLAUDE.md</span>
            <h3>Claude Code System Prompt</h3>
            <p>
              Add this to your project's <code>CLAUDE.md</code> file or <code>~/.claude/CLAUDE.md</code> for global enforcement.
            </p>
            <div class="prompt-block">
              <div class="prompt-label">
                <span>Full prompt template</span>
                <button class="copy-btn" data-copy="claude-prompt">Copy</button>
              </div>
              <pre id="claude-prompt"># Project Instructions

**CRITICAL: Always use SCRUM MCP tools for ANY code changes.** Multiple agents may be working on this codebase simultaneously. SCRUM enforcement is mandatory - the server will reject non-compliant operations.

## HARD RULES (Non-Negotiable)

1. **NEVER use `git commit --no-verify`** - This bypasses compliance checks
2. **NEVER set `SCRUM_PRECOMMIT_SKIP=true`** - This disables enforcement
3. **NEVER modify files without posting intent first** - Server will reject claims
4. **NEVER release claims without attaching evidence** - Server will reject release
5. **ALWAYS run `scrum_compliance_check` before committing** - Verify your work

Violations of these rules will be caught by pre-commit hooks and your commits will be blocked.

## Session Startup (Do This First!)

When starting a session, use the token-optimized context tool:
```
scrum_context()     # Returns: status, tasks, claims, board in ONE call
```

Or for granular control:
```
scrum_status()      # Server status
scrum_task_list()   # Tasks
scrum_claims_list() # Claims
scrum_board()       # Board
```

This gives you situational awareness of what other agents are working on.

## Profile Selection

SCRUM MCP has three profiles with different tool sets. **Choose based on your situation:**

| Profile | Tools | When to Use |
|---------|-------|-------------|
| `solo` | 16 | Single agent, simple task. No sprint active, working alone. |
| `team` | 25 | Multiple agents on DIFFERENT tasks. Other claims exist, no shared sprint. |
| `full` | 38 | Sprint collaboration. Multiple agents on SAME task. |

**Auto-detection logic:**
```
if (sprint exists for task) → use "full"
else if (other agents have active claims) → use "team"
else → use "solo"
```

To check current profile:
```
scrum_context()  # Response includes suggested profile based on state
scrum_status(profile: "solo")  # Get only solo tools
```

## Agent Naming Convention

Use descriptive agent IDs for dashboard clarity and coordination:

**Pattern:** `{tool}-{role}-{shortId}`

| Example | Meaning |
|---------|---------|
| `claude-orchestrator-main` | Main orchestrator agent |
| `claude-worker-backend-a1b2` | Backend-focused worker |
| `claude-worker-tests-c3d4` | Test-focused worker |
| `cursor-reviewer-e5f6` | Code reviewer in Cursor |

**For sub-agent orchestration:** `{parent}-{focus}-{seq}`

| Example | Meaning |
|---------|---------|
| `main-auth-1` | First auth worker spawned by main |
| `main-frontend-2` | Second worker, frontend focus |
| `main-tests-3` | Third worker, test focus |

**Dashboard visibility:** When you see "main-auth-1 claimed src/auth.ts", it's immediately clear what that agent is doing and who spawned it.

## Code Quality Requirements

Before releasing any file claims, you MUST:

1. **Run tests** - All existing tests must pass
2. **No regressions** - Don't break what works
3. **Attach evidence** - Prove your changes work via `scrum_evidence_attach`
4. **Check compliance** - Run `scrum_compliance_check(taskId, agentId)` before committing
5. **Small, focused changes** - One concern per task, don't scope creep
6. **Review your own code** - Read it back before committing

Do NOT optimise for speed of completion. Optimise for correctness and maintainability. If unsure, ask the user rather than guessing.

## Multi-Agent Coordination with SCRUM MCP

This project uses **SCRUM (Synchronised Claims Registry for Unified Multi-agents)** for multi-agent coordination. When multiple AI agents work on this codebase simultaneously, they MUST use SCRUM to prevent conflicts and coordinate their work.

### Enforced Workflow

**SCRUM enforces this workflow at the server level. You cannot skip steps - the tools will reject your requests.**

#### Quick Workflow (v0.5.2 - Token Optimized)

```
# 1. Get context
scrum_context()

# 2. Start work (does: overlap_check → intent_post → claim)
scrum_start_work(
  taskId: "task-id",
  agentId: "your-id",
  files: ["file.ts"],
  acceptanceCriteria: "Tests pass"
)

# 3. Make changes, log each edit
scrum_changelog_log(agentId, filePath, changeType, summary)

# 4. Finish work (does: evidence_attach → compliance_check → claim_release)
scrum_finish_work(
  taskId: "task-id",
  agentId: "your-id",
  command: "npm test",
  output: "All tests passed"
)
```

#### Granular Workflow (Full Control)

1. **Check for conflicts** before touching any files:
   ```
   scrum_overlap_check(files: ["path/to/file.ts", ...])
   ```

2. **Find or create a task** for your work:
   ```
   scrum_task_list()  # Check existing tasks
   scrum_task_create(title: "Your task", description: "Details")
   ```

3. **Declare your intent** (REQUIRED before claiming):
   ```
   scrum_intent_post(
     taskId: "task-id",
     agentId: "your-unique-id",
     files: ["files/you/will/edit.ts"],
     boundaries: "What you WON'T touch",
     acceptanceCriteria: "REQUIRED: How to verify success (min 10 chars)"
   )
   ```

4. **Claim files** (will fail without intent):
   ```
   scrum_claim(agentId: "your-unique-id", files: ["file.ts"], ttlSeconds: 900)
   ```

5. **Make your changes** to the claimed files

6. **Log each change** to the changelog (do this AFTER each file edit):
   ```
   scrum_changelog_log(
     agentId: "your-unique-id",
     filePath: "path/to/edited/file.ts",
     changeType: "modify",  // or "create" or "delete"
     summary: "Added error handling to login function",
     taskId: "task-id"
   )
   ```

7. **Attach evidence** (REQUIRED before releasing):
   ```
   scrum_evidence_attach(
     taskId: "task-id",
     agentId: "your-unique-id",
     command: "npm test",
     output: "All tests passed"
   )
   ```

8. **Release claims** (will fail without evidence):
   ```
   scrum_claim_release(agentId: "your-unique-id", files: ["file.ts"])
   ```

### Debugging with Changelog

When investigating bugs or issues, search the changelog:
```
scrum_changelog_search(
  filePath: "suspect/file.ts",
  query: "error handling",
  since: 1702900000000
)
```

### Agent Identity

Each agent instance MUST use a unique `agentId`. See "Agent Naming Convention" section above for patterns.

**Quick examples:**
- Orchestrator: `claude-orchestrator-main`
- Workers: `main-backend-1`, `main-tests-2`, `main-frontend-3`
- Solo agent: `claude-solo-a1b2`

### Conflict Resolution

If `scrum_overlap_check` or `scrum_claim` returns conflicts:
1. Check `scrum_claims_list()` to see who holds the files
2. Wait for the other agent to release, OR
3. Coordinate by creating an intent explaining your needs
4. Work on non-conflicting files in the meantime

## Sprint Workflow (Multi-Agent Collaboration)

When multiple sub-agents work on the same task, use Sprint for shared context:

### If You're the Orchestrator

1. Create the sprint:
   ```
   scrum_sprint_create(taskId: "task-id", goal: "Describe the integration goal")
   ```
2. Pass `sprintId` to sub-agents when spawning them

### If You're a Sub-Agent (CRITICAL!)

1. **Join the sprint** (do this FIRST):
   ```
   scrum_sprint_join(
     sprintId: "sprint-abc",
     agentId: "your-agent-id",
     workingOn: "What you're implementing",
     focusArea: "backend|frontend|tests|api|auth|..."
   )
   ```

2. **Understand before coding** (ALWAYS do this before starting work):
   ```
   scrum_sprint_context(sprintId: "sprint-abc")
   ```
   Review:
   - `members`: Who else is working and on what
   - `decisions`: Architectural choices already made
   - `interfaces`: API contracts to implement/use
   - `discoveries`: Things others learned
   - `unansweredQuestions`: Can you help answer any?

3. **Do your work** (standard SCRUM: intent → claim → changes → changelog → evidence)

4. **Share your work** (help teammates understand your code):
   ```
   # Share decisions
   scrum_sprint_share(
     sprintId, agentId,
     shareType: "decision",
     title: "Using bcrypt for passwords",
     content: "Chose bcrypt over argon2 because..."
   )

   # Share interfaces (API contracts)
   scrum_sprint_share(
     sprintId, agentId,
     shareType: "interface",
     title: "AuthService API",
     content: "POST /auth/signin { email, password } → { token }"
   )

   # Share discoveries
   scrum_sprint_share(
     sprintId, agentId,
     shareType: "discovery",
     title: "Found existing session middleware",
     content: "Reuse src/middleware/session.ts"
   )

   # Ask questions
   scrum_sprint_share(
     sprintId, agentId,
     shareType: "question",
     title: "Where to store refresh tokens?",
     content: "localStorage vs httpOnly cookie?"
   )
   ```

5. **Check periodically** (every few changes):
   ```
   scrum_sprint_check(sprintId, agentId)
   ```
   Returns: teammates, unanswered questions, interfaces to implement

6. **Complete and leave**:
   ```
   scrum_sprint_leave(sprintId, agentId)
   ```

## Orchestration Workflow (v0.5.2)

When spawning multiple sub-agents for parallel work, use the orchestration tools for automatic coordination:

### If You're the Orchestrator

1. **Start orchestration** (creates sprint + generates worker configs):
   ```
   scrum_orchestrate_start(
     taskId: "task-id",
     orchestratorId: "claude-orchestrator-main",
     goal: "Implement user authentication",
     workers: [
       { focus: "backend", files: ["src/auth.ts", "src/db.ts"] },
       { focus: "frontend", files: ["src/components/Login.tsx"] },
       { focus: "tests", files: ["tests/auth.test.ts"] }
     ]
   )
   ```
   Returns worker configs with auto-generated IDs like `main-backend-1`, `main-frontend-2`, etc.

2. **Pass worker configs to sub-agents** when spawning them. Each config includes:
   - `agentId`: Pre-generated worker ID
   - `files`: Files to claim
   - `startCommand`: Ready-to-use scrum_start_work call
   - `completeCommand`: Template for scrum_worker_complete

3. **Monitor progress**:
   ```
   scrum_orchestrate_status(sprintId: "sprint-abc")
   ```
   Returns: active workers, completed/failed/blocked counts, any issues

4. **Complete when all workers done**:
   ```
   scrum_sprint_complete(sprintId: "sprint-abc")
   ```

### If You're a Worker (Sub-Agent)

1. **Start work** (uses the config passed by orchestrator):
   ```
   scrum_start_work(taskId, agentId, files, acceptanceCriteria)
   ```

2. **Do your work** (standard SCRUM: make changes → changelog_log)

3. **Signal completion**:
   ```
   scrum_worker_complete(
     sprintId: "sprint-abc",
     agentId: "main-backend-1",
     status: "success",  // or "failed" or "blocked"
     result: "Implemented JWT auth with bcrypt password hashing",
     filesModified: ["src/auth.ts", "src/db.ts"]
   )
   ```

### Orchestration Flow Diagram

```
Orchestrator                    Workers
     │
     ├─► scrum_orchestrate_start()
     │        │
     │        ├──► Worker 1: main-backend-1
     │        │         ├─► scrum_start_work()
     │        │         ├─► (do work)
     │        │         └─► scrum_worker_complete(success)
     │        │
     │        ├──► Worker 2: main-frontend-2
     │        │         ├─► scrum_start_work()
     │        │         ├─► (do work)
     │        │         └─► scrum_worker_complete(success)
     │        │
     │        └──► Worker 3: main-tests-3
     │                  ├─► scrum_start_work()
     │                  ├─► (do work)
     │                  └─► scrum_worker_complete(blocked)
     │
     ├─► scrum_orchestrate_status()
     │        └─► { success: 2, blocked: 1 }
     │
     └─► Handle blocked worker, then sprint_complete()
```

### Share Types

| Type | When to Use |
|------|-------------|
| context | Background info ("codebase uses TypeScript strict mode") |
| decision | Architectural choices ("using JWT with 15min expiry") |
| interface | API contracts ("POST /api/users { name, email }") |
| discovery | Things you learned ("found validation utils in src/utils") |
| integration | How to connect ("import AuthService from src/auth") |
| question | Ask teammates ("should we use Redis for sessions?") |
| answer | Reply to questions (use replyToId to link)

## Pre-Commit Enforcement

Git pre-commit hooks validate SCRUM compliance before every commit. If you:
- Modified files not declared in your intent → **BLOCKED**
- Touched boundary files (DO NOT TOUCH) → **BLOCKED**
- Haven't attached evidence (strict mode) → **BLOCKED**

### Before Committing

```
# 1. Check your compliance score
scrum_compliance_check(taskId: "task-id", agentId: "your-id")
# Returns: { compliant: true/false, score: 0-100, issues: [...] }

# 2. If compliant, commit normally
git add .
git commit -m "Your message"
# Hook validates automatically

# 3. If blocked, fix issues first
scrum_intent_post(...)  # Add missing files to intent
scrum_evidence_attach(...)  # Attach missing evidence
```

### FORBIDDEN Commands

These bypass enforcement and are NOT ALLOWED:
- `git commit --no-verify` ❌
- `SCRUM_PRECOMMIT_SKIP=true git commit` ❌
- `git commit --amend --no-verify` ❌

## Additional Tools (v0.5.1)

### Blockers
```
scrum_blocker(action: "add", taskId, description)    # Report blocker
scrum_blocker(action: "resolve", blockerId, resolution)  # Clear blocker
scrum_blocker(action: "list", taskId?)               # List blockers
```

### Dependencies
```
scrum_dependency(action: "add", taskId, dependsOn)   # Task X needs Y
scrum_dependency(action: "check", taskId)            # Are dependencies done?
scrum_dependency(action: "get", taskId)              # List dependencies
```

### Metrics
```
scrum_metrics(type: "board")     # Cycle time, throughput
scrum_metrics(type: "velocity")  # Story points over time
scrum_metrics(type: "aging")     # Stuck tasks
scrum_metrics(type: "task", taskId)  # Single task analysis
```

### Comments
```
scrum_comment_add(taskId, agentId, content)  # Add discussion
scrum_comments_list(taskId)                  # Read discussion
```</pre>
            </div>
          </div>
        </div>

        <div id="cursor" class="prompt-content" data-reveal>
          <div class="prompt-section">
            <span class="file-badge">.cursorrules</span>
            <h3>Cursor System Prompt</h3>
            <p>
              Add this to your project's <code>.cursorrules</code> file to enforce SCRUM MCP usage in Cursor.
            </p>
            <div class="prompt-block">
              <div class="prompt-label">
                <span>Full prompt template</span>
                <button class="copy-btn" data-copy="cursor-prompt">Copy</button>
              </div>
              <pre id="cursor-prompt"># Project Rules

**CRITICAL: Always use SCRUM MCP tools for ANY code changes.** Multiple agents may be working on this codebase simultaneously. SCRUM enforcement is mandatory - the server will reject non-compliant operations.

## HARD RULES (Non-Negotiable)

1. **NEVER use `git commit --no-verify`** - Bypasses compliance checks
2. **NEVER set `SCRUM_PRECOMMIT_SKIP=true`** - Disables enforcement
3. **NEVER modify files without posting intent first** - Server rejects claims
4. **NEVER release claims without attaching evidence** - Server rejects release
5. **ALWAYS run `scrum_compliance_check` before committing** - Verify your work

Pre-commit hooks will BLOCK commits that violate these rules.

## Profile Selection

| Profile | Tools | When to Use |
|---------|-------|-------------|
| `solo` | 16 | Single agent, no sprint, working alone |
| `team` | 25 | Multiple agents on DIFFERENT tasks |
| `full` | 38 | Sprint collaboration on SAME task |

Auto-detect: `scrum_context()` suggests the right profile based on state.

## Agent Naming Convention

**Pattern:** `{tool}-{role}-{shortId}`

Examples:
- `cursor-orchestrator-main` - Main orchestrator
- `cursor-worker-api-a1b2` - API-focused worker
- `main-auth-1`, `main-tests-2` - Sub-agents spawned by main

Use descriptive names so dashboard shows "main-auth-1 claimed src/auth.ts" - immediately clear.

## Session Startup (Do First!)

AUTOMATICALLY run at session start:
- `scrum_status()` - Check server status and profile
- `scrum_task_list()` - See pending tasks
- `scrum_claims_list()` - See claimed files
- `scrum_board()` - See kanban for bottlenecks

## Code Quality Requirements

Before releasing claims:
1. Run tests - all must pass
2. No regressions - don't break existing functionality
3. Log changes via `scrum_changelog_log`
4. Attach evidence via `scrum_evidence_attach`
5. Check compliance via `scrum_compliance_check(taskId, agentId)`
6. Keep changes small and focused
7. Review your own code before finishing

Optimise for correctness, not speed. Ask the user if uncertain.

## Multi-Agent Coordination (SCRUM MCP)

This project uses SCRUM for multi-agent coordination. **The workflow is enforced at the server level - you cannot skip steps.**

### Before Any Code Changes

1. **Check conflicts**: `scrum_overlap_check(files: [...])`
2. **Get/create task**: `scrum_task_list()` or `scrum_task_create(...)`
3. **Post intent** (REQUIRED before claim):
   - `scrum_intent_post(taskId, agentId, files, boundaries, acceptanceCriteria)`
   - `acceptanceCriteria` is mandatory (min 10 chars)
4. **Claim files** (fails without intent):
   - `scrum_claim(agentId, files, ttlSeconds: 900)`
   - Rejects with `NO_INTENT` if step 3 was skipped

### After Each File Edit

5. **Log the change**:
   - `scrum_changelog_log(agentId, filePath, changeType, summary)`
   - Creates searchable history for debugging

### Before Releasing Claims

6. **Attach evidence** (REQUIRED before release):
   - `scrum_evidence_attach(taskId, agentId, command, output)`
   - No receipts = no release
7. **Release claims** (fails without evidence):
   - `scrum_claim_release(agentId, files)`
   - Rejects with `NO_EVIDENCE` if step 6 was skipped

### Debugging

Search changelog to find when issues were introduced:
- `scrum_changelog_search(filePath, query, since, until)`

### Agent Identity

See "Agent Naming Convention" above. Examples: `cursor-solo-a1b2`, `cursor-worker-api-c3d4`

### Conflict Resolution

If files are claimed by another agent:
- Check `scrum_claims_list()` to see current claims
- Wait or work on unclaimed files
- Coordinate via intents

## Sprint Workflow (Multi-Agent Collaboration)

When orchestrating multiple sub-agents on the same task:

### Orchestrator Creates Sprint
```
scrum_sprint_create(taskId, goal: "Integration goal")
→ Pass sprintId to sub-agents
```

### Sub-Agents Join and Collaborate
1. **Join**: `scrum_sprint_join(sprintId, agentId, workingOn, focusArea)`
2. **Context**: `scrum_sprint_context(sprintId)` - BEFORE coding!
3. **Work**: Standard SCRUM workflow (intent → claim → edit → changelog → evidence)
4. **Share**: `scrum_sprint_share(sprintId, agentId, shareType, title, content)`
   - Types: decision, interface, discovery, integration, question, answer
5. **Check**: `scrum_sprint_check(sprintId, agentId)` - Periodic sync
6. **Leave**: `scrum_sprint_leave(sprintId, agentId)`

### Key Rule
**Always check `scrum_sprint_context()` before starting work** - this shows what teammates decided and built.

## Pre-Commit Enforcement

Git hooks validate SCRUM compliance before every commit:
- Modified undeclared files → **BLOCKED**
- Touched boundary files → **BLOCKED**
- No evidence (strict mode) → **BLOCKED**

### FORBIDDEN Commands
- `git commit --no-verify` ❌
- `SCRUM_PRECOMMIT_SKIP=true` ❌

### Before Committing
```
scrum_compliance_check(taskId, agentId)  # Check score
git commit -m "message"                   # Hook validates
```

## v0.5.1 Consolidated Tools

```
scrum_blocker(action: "add|resolve|list", ...)
scrum_dependency(action: "add|remove|get|check", ...)
scrum_metrics(type: "board|velocity|aging|task", ...)
scrum_comment_add(taskId, agentId, content)
scrum_comments_list(taskId)
```</pre>
            </div>
          </div>
        </div>

        <div id="mcp" class="prompt-content" data-reveal>
          <div class="prompt-section">
            <span class="file-badge">mcp.json</span>
            <h3>MCP Server Configuration</h3>
            <p>
              Add this to your MCP client configuration. Update the paths to match your SCRUM MCP installation.
            </p>
            <div class="prompt-block">
              <div class="prompt-label">
                <span>MCP config</span>
                <button class="copy-btn" data-copy="mcp-config">Copy</button>
              </div>
              <pre id="mcp-config">{
  "mcpServers": {
    "scrum": {
      "command": "node",
      "args": ["/path/to/scrum-mcp/dist/mcp.js"],
      "env": {
        "SCRUM_DB_PATH": "/path/to/.scrum/scrum.sqlite"
      }
    }
  }
}</pre>
            </div>
          </div>

          <div class="prompt-section">
            <h3>Available MCP Tools (38 in v0.5.2)</h3>
            <p>Once configured, agents will have access to these SCRUM MCP tools:</p>
            <div class="prompt-block" style="max-height: none;">
              <pre style="max-height: none;">## Convenience Tools (v0.5.2 - Token Optimized) ⭐

scrum_context()             # Session startup in ONE call (~450 tokens saved)
scrum_start_work()          # overlap + intent + claim in ONE call (~200 tokens saved)
scrum_finish_work()         # evidence + compliance + release in ONE call (~100 tokens saved)

## Core Tools

scrum_status(profile?)      # Server status (profile: solo|team|full)
scrum_task_list()           # List tasks
scrum_task_create()         # Create task
scrum_task_get()            # Get task details
scrum_task_update()         # Update task
scrum_board()               # Kanban board
scrum_intent_post()         # Declare intent
scrum_overlap_check()       # Check conflicts
scrum_claim()               # Claim files
scrum_claim_release()       # Release claims
scrum_claim_extend()        # Extend TTL
scrum_claims_list()         # List claims

## Evidence & Changelog

scrum_evidence_attach()     # Attach proof
scrum_changelog_log()       # Log change
scrum_changelog_search()    # Search history
scrum_dead_work()           # Find stale work

## Compliance

scrum_compliance_check()    # Check before commit

## Consolidated Tools

scrum_blocker(action)       # add | resolve | list
scrum_dependency(action)    # add | remove | get | check
scrum_metrics(type)         # board | velocity | aging | task
scrum_comment_add()         # Add comment
scrum_comments_list()       # List comments

## Sprint Tools (Multi-Agent Collaboration)

scrum_sprint_create()       # Create a sprint for a task
scrum_sprint_join()         # Join a sprint as a sub-agent
scrum_sprint_context()      # Get full sprint context (CALL BEFORE CODING!)
scrum_sprint_share()        # Share decisions, interfaces, discoveries
scrum_sprint_check()        # Periodic sync with teammates
scrum_sprint_leave()        # Leave when done
scrum_sprint_get()          # Get sprint by ID or taskId
scrum_sprint_list()         # List sprints
scrum_sprint_members()      # List sprint members
scrum_sprint_shares()       # List shared context
scrum_sprint_complete()     # Mark sprint complete

## Orchestration Tools (v0.5.2) ⭐

scrum_orchestrate_start()   # Start parallel workers (creates sprint + worker configs)
scrum_worker_complete()     # Signal worker done (success/failed/blocked)
scrum_orchestrate_status()  # Get orchestration progress

## Workflow Enforcement

- claim() fails without prior intent_post() → NO_INTENT error
- claim_release() fails without prior evidence_attach() → NO_EVIDENCE error
- acceptanceCriteria is required (min 10 chars)
- Pre-commit hooks validate compliance_check before commits
- NEVER use git commit --no-verify (bypasses enforcement)
- All operations are logged and auditable</pre>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="section cta">
      <div class="container cta-card" data-reveal>
        <div>
          <p class="eyebrow">Ready to coordinate</p>
          <h2>Get SCRUM MCP running in minutes.</h2>
          <p>
            Clone the repo, build the MCP server, and add your prompt.
            Your agents will start coordinating immediately.
          </p>
        </div>
        <div class="cta-actions">
          <a class="btn btn-primary" href="https://github.com/tylerbuilds/scrum-mcp" target="_blank" rel="noreferrer">
            View on GitHub
          </a>
          <a class="btn btn-ghost" href="/">
            Back to home
          </a>
        </div>
      </div>
    </section>
  </main>
  <footer class="site-footer">
    <div class="container footer-grid">
      <div>
        <a href="/" class="brand">
          <span class="brand-mark">SCRUM</span>
          <span class="brand-sub">MCP</span>
        </a>
        <p>Local-first coordination for multi-agent software teams.</p>
      </div>
      <div class="footer-links">
        <a href="/#start">Start</a>
        <a href="/#features">Features</a>
        <a href="/prompts.html">Prompts</a>
      </div>
      <div class="footer-links">
        <a href="https://github.com/tylerbuilds/scrum-mcp/blob/main/docs/MCP.md" target="_blank" rel="noreferrer">
          MCP docs
        </a>
        <a href="https://github.com/tylerbuilds/scrum-mcp/blob/main/docs/IDE-SETUP.md" target="_blank" rel="noreferrer">
          IDE setup
        </a>
        <a href="https://github.com/tylerbuilds/scrum-mcp/blob/main/SECURITY.md" target="_blank" rel="noreferrer">
          Security
        </a>
        <a href="https://github.com/tylerbuilds/scrum-mcp" target="_blank" rel="noreferrer">
          GitHub
        </a>
      </div>
      <div class="footer-meta">
        <p>MIT license. Copyright <a href="https://tylerbuilds.com" target="_blank" rel="noreferrer">Tyler Casey</a> 2026.</p>
        <p>Proudly built with <a href="https://claude.com/claude-code" target="_blank" rel="noreferrer">Claude Code</a> (Opus 4.5)</p>
        <a class="btn btn-ghost btn-x" href="https://x.com/TylerIsBuilding" target="_blank" rel="noreferrer">
          Follow me on X
        </a>
      </div>
    </div>
  </footer>
  <script src="app.js"></script>
  <script>
    // Tab switching
    document.querySelectorAll('.prompt-tab').forEach(tab => {
      tab.addEventListener('click', () => {
        document.querySelectorAll('.prompt-tab').forEach(t => t.classList.remove('active'));
        document.querySelectorAll('.prompt-content').forEach(c => c.classList.remove('active'));
        tab.classList.add('active');
        document.getElementById(tab.dataset.tab).classList.add('active');
      });
    });

    // Copy to clipboard
    document.querySelectorAll('.copy-btn').forEach(btn => {
      btn.addEventListener('click', async () => {
        const targetId = btn.dataset.copy;
        const text = document.getElementById(targetId).textContent;
        try {
          await navigator.clipboard.writeText(text);
          btn.textContent = 'Copied!';
          btn.classList.add('copied');
          setTimeout(() => {
            btn.textContent = 'Copy';
            btn.classList.remove('copied');
          }, 2000);
        } catch (err) {
          console.error('Failed to copy:', err);
        }
      });
    });
  </script>
</body>

</html>
